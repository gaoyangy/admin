{"version":3,"sources":["webpack:///static/js/38.d5e01f8674ca794aa90a.js","webpack:///src/views/qiniu/upload.vue","webpack:///./src/views/qiniu/upload.vue?1e02","webpack:///./src/views/qiniu/upload.vue"],"names":["webpackJsonp","nOMn","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","promise","promise_default","n","qiniu","upload","data","dataObj","token","key","image_uri","fileList","methods","beforeUpload","_self","this","a","resolve","reject","then","response","qiniu_key","qiniu_token","_data","catch","err","console","log","render","_vm","_h","$createElement","_c","attrs","action","drag","multiple","before-upload","staticClass","_v","staticRenderFns","esExports","qiniu_upload","normalizeComponent","Component"],"mappings":"AAAAA,cAAc,KAERC,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAGlE,IAAIC,GAAUJ,EAAoB,QAC9BK,EAA+BL,EAAoBM,EAAEF,GAGrDG,EAAQP,EAAoB,QCAhCQ,GDUEC,KAAM,WACJ,OACEC,SAAWC,MAAO,GAAIC,ICR5B,IDSMC,aACAC,cAIJC,SACEC,aAAc,WACZ,GAAIC,GCTVC,IDUM,OAAO,IAAIb,GAAgBc,EAAE,SAAUC,EAASC,GAC9CpB,OAAOM,EAAwB,KAAKe,KAAK,SAAUC,GACjD,GAAIX,GAAMW,EAASd,KCT7Be,UDUcb,EAAQY,EAASd,KCT/BgB,WDUUR,GAAMS,MAAMhB,QAAQC,MCT9BA,EDUUM,EAAMS,MAAMhB,QAAQE,ICT9BA,EDUUQ,GCTV,KDUWO,MAAM,SAAUC,GACjBC,QAAQC,ICTlBF,GDUUP,GCTV,UClCAU,EAAA,WAA0B,GAAAC,GAAAd,KAAae,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAf,MAAAkB,IAAAF,CAAwB,OAAAE,GAAA,aAAuBC,OAAOC,OAAA,yBAAA5B,KAAAuB,EAAAtB,QAAA4B,KAAA,GAAAC,UAAA,EAAAC,gBAAAR,EAAAhB,gBAAiHmB,EAAA,KAAUM,YAAA,mBAA6BT,EAAAU,GAAA,KAAAP,EAAA,OAAwBM,YAAA,oBAA8BT,EAAAU,GAAA,aAAAP,EAAA,MAAAH,EAAAU,GAAA,eACrUC,KACAC,GAAiBb,SAAAY,mBACjBE,EAAA,ECHAC,EAAA9C,EAAA,QAaA+C,EAAAD,EACAtC,EACAqC,GATA,EAEA,KAEA,KAEA,KAUA9C,GAAA,QAAAgD,EAAA","file":"static/js/38.d5e01f8674ca794aa90a.js","sourcesContent":["webpackJsonp([38],{\n\n/***/ \"nOMn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/promise.js\nvar promise = __webpack_require__(\"rVsN\");\nvar promise_default = /*#__PURE__*/__webpack_require__.n(promise);\n\n// EXTERNAL MODULE: ./src/api/qiniu.js\nvar qiniu = __webpack_require__(\"EX+S\");\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.2@babel-loader/lib!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=script&index=0!./src/views/qiniu/upload.vue\n\n\n\n\n\n\n/* harmony default export */ var upload = ({\n  data: function data() {\n    return {\n      dataObj: { token: '', key: '' },\n      image_uri: [],\n      fileList: []\n    };\n  },\n\n  methods: {\n    beforeUpload: function beforeUpload() {\n      var _self = this;\n      return new promise_default.a(function (resolve, reject) {\n        Object(qiniu[\"a\" /* getToken */])().then(function (response) {\n          var key = response.data.qiniu_key;\n          var token = response.data.qiniu_token;\n          _self._data.dataObj.token = token;\n          _self._data.dataObj.key = key;\n          resolve(true);\n        }).catch(function (err) {\n          console.log(err);\n          reject(false);\n        });\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@13.5.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-f5b410e2\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/qiniu/upload.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-upload',{attrs:{\"action\":\"https://upload.qbox.me\",\"data\":_vm.dataObj,\"drag\":\"\",\"multiple\":true,\"before-upload\":_vm.beforeUpload}},[_c('i',{staticClass:\"el-icon-upload\"}),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var qiniu_upload = (esExports);\n// CONCATENATED MODULE: ./src/views/qiniu/upload.vue\nvar normalizeComponent = __webpack_require__(\"/Xao\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  upload,\n  qiniu_upload,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_qiniu_upload = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/38.d5e01f8674ca794aa90a.js","<template>\n  <el-upload action=\"https://upload.qbox.me\" :data=\"dataObj\" drag :multiple=\"true\" :before-upload=\"beforeUpload\">\n    <i class=\"el-icon-upload\"></i>\n    <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n  </el-upload>\n</template>\n\n\n<script>\nimport { getToken } from '@/api/qiniu'\n// 获取七牛token 后端通过Access Key,Secret Key,bucket等生成token\n// 七牛官方sdk https://developer.qiniu.com/sdk#official-sdk\n\nexport default{\n  data() {\n    return {\n      dataObj: { token: '', key: '' },\n      image_uri: [],\n      fileList: []\n    }\n  },\n  methods: {\n    beforeUpload() {\n      const _self = this\n      return new Promise((resolve, reject) => {\n        getToken().then(response => {\n          const key = response.data.qiniu_key\n          const token = response.data.qiniu_token\n          _self._data.dataObj.token = token\n          _self._data.dataObj.key = key\n          resolve(true)\n        }).catch(err => {\n          console.log(err)\n          reject(false)\n        })\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/qiniu/upload.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-upload',{attrs:{\"action\":\"https://upload.qbox.me\",\"data\":_vm.dataObj,\"drag\":\"\",\"multiple\":true,\"before-upload\":_vm.beforeUpload}},[_c('i',{staticClass:\"el-icon-upload\"}),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.5.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-f5b410e2\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=template&index=0!./src/views/qiniu/upload.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector?type=script&index=0!./upload.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f5b410e2\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector?type=template&index=0!./upload.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/qiniu/upload.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}